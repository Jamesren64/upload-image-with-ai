(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4645:function(e,t,r){Promise.resolve().then(r.bind(r,6253))},6253:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(7437),a=r(2265),i=r(1235),l=r(1549),s=r(2126),d=r(511),o=r(1699),c=r.n(o);function h(e){let{images:t,makeFlashcards:r,setImages:a,text:s,translatedText:o,addFlashcards:h}=e;return(0,n.jsx)(c(),{multiple:!0,value:t,onChange:(e,t)=>{a(e)},maxNumber:69,dataURLKey:"data_url",children:e=>{let{imageList:r,onImageUpload:a,onImageRemoveAll:c,onImageUpdate:x,onImageRemove:g,isDragging:u,dragProps:j}=e;return(0,n.jsxs)(i.Z,{alignItems:"center",justifyContent:"center",width:"100%",height:"100%",children:[(0,n.jsxs)(i.Z,{className:"CARDS",width:"100%",children:[(0,n.jsxs)(i.Z,{className:"OUTER_STACK",width:"100%",overflow:"auto",sx:{border:1,borderColor:"gray",borderRadius:"8px"},height:300,alignItems:"center",justifyContent:"center",children:[(0,n.jsxs)(i.Z,{flexDirection:"row",marginTop:0,children:[0==t.length&&(0,n.jsx)(l.Z,{variant:"text",style:u?{color:"red"}:void 0,onClick:a,...j,children:"Add Image"}),"\xa0"]}),r.map((e,t)=>(0,n.jsx)(i.Z,{className:"image-item",padding:2,width:"100%",children:(0,n.jsx)("img",{src:e.data_url,alt:""})},t))]}),(0,n.jsxs)(i.Z,{flexDirection:"row",width:"100%",gap:2,marginTop:2,children:[(0,n.jsxs)(i.Z,{flexDirection:"column",width:"50%",children:[(0,n.jsx)(d.Z,{variant:"h7",children:"Original Text"}),(0,n.jsx)(i.Z,{width:"100%",height:200,padding:.5,sx:{border:1,borderColor:"gray",borderRadius:"8px"},overflow:"scroll",children:s?(0,n.jsx)(d.Z,{children:s}):(0,n.jsx)(d.Z,{sx:{color:"gray"},children:"Upload image to see flashcard"})})]}),(0,n.jsxs)(i.Z,{flexDirection:"column",width:"50%",children:[(0,n.jsx)(d.Z,{variant:"h7",children:"Translated Text"}),(0,n.jsx)(i.Z,{width:"100%",height:200,padding:.5,sx:{border:1,borderColor:"gray",borderRadius:"8px"},overflow:"scroll",children:o?(0,n.jsx)(d.Z,{children:o}):(0,n.jsx)(d.Z,{sx:{color:"gray"},children:"Upload image to see flashcard"})})]})]})]}),(0,n.jsxs)(i.Z,{flexDirection:"row",gap:1,marginTop:3,children:[(0,n.jsx)(l.Z,{sx:{width:200},variant:"contained",onClick:h,children:"Add Flashcards"}),(0,n.jsx)(l.Z,{sx:{width:200},variant:"contained",onClick:g,children:"Delete Flashcards"})]})]})}})}function x(e){let{rows:t}=e;return(0,n.jsx)(i.Z,{className:"CURRENT_STACK",overflow:"scroll",height:539.5,gap:4,children:t.map((e,t)=>(0,n.jsxs)(i.Z,{gap:1,children:[(0,n.jsxs)(d.Z,{children:["Card ",t+1]}),(0,n.jsx)(d.Z,{sx:{border:1,borderColor:"gray",padding:1,borderRadius:"8px"},overflow:"scroll",height:150,width:300,alignItems:"center",justifyContent:"center",children:e[0]}),(0,n.jsx)(d.Z,{sx:{border:1,borderColor:"gray",padding:1,borderRadius:"8px"},overflow:"scroll",height:150,width:300,alignItems:"center",justifyContent:"center",children:e[1]})]},e[0]))})}function g(){let[e,t]=a.useState([]),[r,o]=a.useState(void 0),[c,g]=a.useState(void 0),[u,j]=a.useState([]),m=()=>{var e=encodeURI("data:text/tab-separated-values;charset=utf-8,"+u.map(e=>e.join("	")).join("\n")),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","my_data.tsv"),document.body.appendChild(t),t.click()};return(0,a.useEffect)(()=>{if(e.length>0){var t=new FormData;t.append("file",e[0].file),s.Z.post("http://localhost:8000/uploadfile/",t,{}).then(e=>{console.log(Object.keys(e.data)),o(e.data.text),g(e.data.translatedText)})}},[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.Z,{alignItems:"center",children:[(0,n.jsx)(d.Z,{variant:"h4",marginTop:1,children:"Flashcard Generator"}),(0,n.jsx)(d.Z,{variant:"body1",children:"Upload an image to translate and make into a flashcard."})]}),(0,n.jsxs)(i.Z,{className:"OUTER_DIV",gap:15,justifyContent:"center",alignItems:"center",flexDirection:"row",height:"100%",children:[(0,n.jsx)(i.Z,{className:"OUTER_STACK1",flexDirection:"column",width:"50%",gap:4,height:"100%",justifyContent:"center",alignItems:"center",children:(0,n.jsx)(h,{images:e,setImages:t,makeFlashcards:m,addFlashcards:()=>{j([...u,[c.replaceAll("\n"," ").replaceAll("	"," ").replaceAll("&#39;","'"),r.replaceAll("\n"," ").replaceAll("	"," ").replaceAll("&#39;","'")]])},text:r,translatedText:c})}),(0,n.jsxs)(i.Z,{className:"OUTER_STACK2",children:[(0,n.jsx)(i.Z,{height:547.5,justifyContent:"flex-start",alignItems:"center",children:(0,n.jsx)(x,{rows:u})}),(0,n.jsx)(i.Z,{justifyContent:"center",alignItems:"center",sx:{minHeight:"100%"},children:(0,n.jsx)(l.Z,{sx:{width:200,marginTop:3},variant:"contained",onClick:m,children:"Export To CSV"})})]})]})]})}r(3461)}},function(e){e.O(0,[816,971,23,744],function(){return e(e.s=4645)}),_N_E=e.O()}]);