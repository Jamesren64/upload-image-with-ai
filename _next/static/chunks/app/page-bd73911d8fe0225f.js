(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7458:function(e,r,t){Promise.resolve().then(t.bind(t,7319))},7319:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return ea}});var n=t(7437),a=t(2265),o=t(9643),i=t(4013),s=t(9978),l=t(1899),d=t(5002),c=t(4338),x=t(7571),h=t(3392),p=t(9507),u=t(7468),m=t(4039),g=t(4087),f=t(7208),j=t(5860),v=t(5390),y=t(9026),b=t(4169),Z=t(1100),w=t(3051),C=t(782),S=t(8511),I=t(2353),k=t.n(I),A=t(5389),E=t(9253),T=t(3190),_=t(9115),W=t(8790);function N(e){let{images:r,setImages:t,addFlashcards:a,text:s,translatedText:c,isLoading:h}=e,p=e=>e?e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB":"Unknown size";return(0,n.jsx)(k(),{multiple:!0,value:r,onChange:e=>{t(e)},maxNumber:69,dataURLKey:"data_url",children:e=>{let{imageList:t,onImageUpload:u,onImageRemoveAll:m,onImageUpdate:g,onImageRemove:f,isDragging:j,dragProps:v}=e;return(0,n.jsxs)(o.Z,{alignItems:"center",justifyContent:"center",width:"100%",height:"100%",gap:2,children:[(0,n.jsxs)(o.Z,{className:"CARDS",width:"100%",gap:2,children:[(0,n.jsxs)(l.Z,{className:"OUTER_STACK",sx:{width:"100%",minHeight:{xs:"200px",md:"300px"},display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",border:j?"3px dashed":"2px dashed",borderColor:j?"primary.main":"divider",borderRadius:2,bgcolor:j?"primary.light":"background.paper",transition:"all 0.3s ease",overflow:"hidden","&:hover":{borderColor:"primary.main",bgcolor:"action.hover"}},children:[h&&(0,n.jsxs)(o.Z,{position:"absolute",top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",zIndex:2},gap:2,children:[(0,n.jsx)(A.Z,{size:50}),(0,n.jsx)(d.Z,{variant:"body2",color:"primary",children:"Processing image..."}),(0,n.jsx)(E.Z,{sx:{width:"60%"}})]}),0===r.length?(0,n.jsxs)(o.Z,{alignItems:"center",gap:2,p:3,...v,children:[(0,n.jsx)(C.Z,{sx:{fontSize:64,color:j?"primary.main":"action.disabled"}}),(0,n.jsx)(d.Z,{variant:"h6",color:j?"primary":"text.secondary",children:j?"Drop your image here":"Upload an Image"}),(0,n.jsx)(d.Z,{variant:"body2",color:"text.disabled",textAlign:"center",children:"Drag and drop an image here, or click to browse"}),(0,n.jsx)(i.Z,{variant:"outlined",color:"primary",startIcon:(0,n.jsx)(W.Z,{}),onClick:e=>{e.stopPropagation(),u()},disabled:h,size:"large",sx:{pointerEvents:"auto"},children:"Browse Files"})]}):(0,n.jsx)(o.Z,{width:"100%",p:2,gap:1,children:t.map((e,r)=>{var t,a;return(0,n.jsxs)(l.Z,{children:[(0,n.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1,mb:1,children:[(0,n.jsx)(W.Z,{color:"primary"}),(0,n.jsx)(d.Z,{variant:"body2",fontWeight:"bold",children:(null===(t=e.file)||void 0===t?void 0:t.name)||"Uploaded Image"}),(0,n.jsx)(x.Z,{label:p(null===(a=e.file)||void 0===a?void 0:a.size),size:"small",color:"primary",variant:"outlined"})]}),(0,n.jsx)(l.Z,{sx:{maxHeight:{xs:"150px",md:"200px"},overflow:"auto",borderRadius:1,border:1,borderColor:"divider"},children:(0,n.jsx)("img",{src:e.data_url,alt:"uploaded",style:{maxWidth:"100%",height:"auto",display:"block"}})})]},r)})})]}),(0,n.jsxs)(o.Z,{flexDirection:{xs:"column",md:"row"},width:"100%",gap:2,children:[(0,n.jsxs)(l.Z,{flex:1,minWidth:0,children:[(0,n.jsx)(o.Z,{direction:"row",alignItems:"center",gap:1,mb:1,children:(0,n.jsx)(d.Z,{variant:"caption",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:1,color:"secondary.main"},children:"Original Text"})}),(0,n.jsx)(l.Z,{sx:{minHeight:{xs:"120px",md:"150px"},maxHeight:{xs:"200px",md:"250px"},padding:2,border:1,borderColor:"secondary.main",borderLeft:4,borderRadius:2,overflowY:"auto",bgcolor:"secondary.light",transition:"all 0.2s","&:hover":{boxShadow:2}},children:s?(0,n.jsx)(d.Z,{variant:"body2",sx:{color:"secondary.contrastText"},children:s}):(0,n.jsx)(d.Z,{sx:{color:"text.disabled",fontStyle:"italic"},variant:"body2",children:"Upload image to see original text"})})]}),(0,n.jsxs)(l.Z,{flex:1,minWidth:0,children:[(0,n.jsx)(o.Z,{direction:"row",alignItems:"center",gap:1,mb:1,children:(0,n.jsx)(d.Z,{variant:"caption",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:1,color:"primary.main"},children:"Translated Text"})}),(0,n.jsx)(l.Z,{sx:{minHeight:{xs:"120px",md:"150px"},maxHeight:{xs:"200px",md:"250px"},padding:2,border:1,borderColor:"primary.main",borderLeft:4,borderRadius:2,overflowY:"auto",bgcolor:"primary.light",transition:"all 0.2s","&:hover":{boxShadow:2}},children:c?(0,n.jsx)(d.Z,{variant:"body2",sx:{color:"primary.contrastText"},children:c}):(0,n.jsx)(d.Z,{sx:{color:"text.disabled",fontStyle:"italic"},variant:"body2",children:"Upload image to see translation"})})]})]})]}),(0,n.jsxs)(o.Z,{flexDirection:{xs:"column",sm:"row"},gap:1.5,width:"100%",sx:{maxWidth:{xs:"100%",sm:"500px"}},children:[(0,n.jsx)(i.Z,{sx:{flex:1,minWidth:{xs:"100%",sm:"150px"}},variant:"outlined",color:"primary",startIcon:(0,n.jsx)(T.Z,{}),onClick:a,disabled:h||!s||!c,size:"large",children:"Add Flashcard"}),(0,n.jsx)(i.Z,{sx:{flex:1,minWidth:{xs:"100%",sm:"150px"}},variant:"outlined",color:"secondary",startIcon:(0,n.jsx)(_.Z,{}),onClick:()=>{r.length>0&&f(0)},disabled:h||0===r.length,size:"large",children:"Delete Image"})]})]})}})}var P=t(6137),F=t(9832),O=t(3980),R=t(3208),z=t(1911),U=t(9938);function D(e){let{row:r,index:t,onUpdate:s}=e,[c,g]=a.useState(!1),[j,v]=a.useState(!1),[b,Z]=a.useState(!1),[w,C]=a.useState(r[0]),[S,I]=a.useState(r[1]),[k,A]=a.useState(""),E=r[0],T=r[1],_=E.length>200||T.length>200,W=()=>{Z(!1),A("")};return(0,n.jsx)(f.Z,{elevation:2,sx:{width:"100%",transition:"all 0.3s ease","&:hover":{elevation:4,transform:"translateY(-2px)"},background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)"},children:(0,n.jsxs)(P.Z,{children:[(0,n.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,n.jsx)(x.Z,{label:"Card ".concat(t+1),color:"primary",size:"small",sx:{fontWeight:"bold"}}),(0,n.jsxs)(o.Z,{direction:"row",gap:.5,children:[(0,n.jsx)(F.Z,{size:"small",onClick:()=>{C(r[0]),I(r[1]),A(""),Z(!0)},color:"primary",children:(0,n.jsx)(U.Z,{})}),(0,n.jsx)(F.Z,{size:"small",onClick:()=>{g(!c)},color:"primary",children:(0,n.jsx)(z.Z,{})})]})]}),(0,n.jsx)(l.Z,{sx:{perspective:"1000px",minHeight:"100px"},children:(0,n.jsx)(l.Z,{sx:{transition:"transform 0.6s",transformStyle:"preserve-3d",transform:c?"rotateY(180deg)":"rotateY(0deg)"},children:c?(0,n.jsxs)(l.Z,{sx:{transform:"rotateY(180deg)"},children:[(0,n.jsx)(d.Z,{variant:"caption",sx:{color:"secondary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},children:"Original"}),(0,n.jsx)(l.Z,{sx:{mt:1,p:2,bgcolor:"secondary.light",borderRadius:2,borderLeft:4,borderColor:"secondary.main"},children:(0,n.jsx)(d.Z,{variant:"body2",sx:{color:"secondary.contrastText"},children:j||T.length<=200?T:"".concat(T.substring(0,200),"...")})})]}):(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(d.Z,{variant:"caption",sx:{color:"primary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},children:"Translated"}),(0,n.jsx)(l.Z,{sx:{mt:1,p:2,bgcolor:"primary.light",borderRadius:2,borderLeft:4,borderColor:"primary.main"},children:(0,n.jsx)(d.Z,{variant:"body2",sx:{color:"primary.contrastText"},children:j||E.length<=200?E:"".concat(E.substring(0,200),"...")})})]})})}),_&&(0,n.jsx)(o.Z,{direction:"row",justifyContent:"center",mt:1,children:(0,n.jsx)(F.Z,{size:"small",onClick:()=>v(!j),color:"primary",children:j?(0,n.jsx)(R.Z,{}):(0,n.jsx)(O.Z,{})})}),(0,n.jsxs)(h.Z,{open:b,onClose:W,maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(p.Z,{children:"Edit Flashcard"}),(0,n.jsxs)(u.Z,{sx:{overflow:"visible",pt:2,pb:3},children:[k&&(0,n.jsx)(d.Z,{color:"error",variant:"body2",sx:{mb:2},children:k}),(0,n.jsxs)(o.Z,{gap:3,sx:{mt:1},children:[(0,n.jsx)(m.Z,{fullWidth:!0,label:"Translated Text",multiline:!0,rows:4,value:w,onChange:e=>C(e.target.value),variant:"outlined",InputLabelProps:{shrink:!0}}),(0,n.jsx)(m.Z,{fullWidth:!0,label:"Original Text",multiline:!0,rows:4,value:S,onChange:e=>I(e.target.value),variant:"outlined",InputLabelProps:{shrink:!0}})]})]}),(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(i.Z,{onClick:W,children:"Cancel"}),(0,n.jsx)(i.Z,{onClick:()=>{if(!w.trim()||!S.trim()){A("Both fields are required");return}try{s(t,w,S),Z(!1)}catch(e){A(e.message)}},variant:"contained",color:"primary",children:"Save"})]})]})]})})}function K(e){let{rows:r,onUpdateFlashcard:t}=e;return(0,n.jsx)(o.Z,{className:"CURRENT_STACK",gap:3,sx:{width:"100%",height:"100%",minHeight:"100%"},children:0===r.length?(0,n.jsxs)(o.Z,{gap:2,alignItems:"center",justifyContent:"center",sx:{width:"100%",height:"100%",color:"text.secondary"},children:[(0,n.jsx)(d.Z,{variant:"h6",color:"text.secondary",children:"No flashcards yet"}),(0,n.jsx)(d.Z,{variant:"body2",color:"text.disabled",children:"Upload an image and add flashcards to see them here"})]}):r.map((e,r)=>(0,n.jsx)(D,{row:e,index:r,onUpdate:t},r))})}var H=t(6103);async function L(e){return new Promise((r,t)=>{let n=new FileReader;n.onload=()=>r(n.result.split(",")[1]),n.onerror=t,n.readAsDataURL(e)})}async function Y(e,r){try{var t,n,a;let o;if(!r)throw Error("API key is required. Please provide your OpenAI API key.");let i=new H.ZP({apiKey:r,dangerouslyAllowBrowser:!0}),s=await L(e),l=await i.responses.create({model:"gpt-5-mini",input:[{role:"user",type:"message",content:[{type:"input_text",text:'Please extract all text from this image and translate it to English. Return the response in JSON format with two fields: "original" (the extracted text) and "translated" (the English translation). Auto-detect the source language. Return ONLY the JSON, nothing else.'},{type:"input_image",image_url:"data:image/jpeg;base64,".concat(s)}]}]}),d=null===(t=l.output)||void 0===t?void 0:t.find(e=>"message"===e.type),c=(null==d?void 0:null===(a=d.content)||void 0===a?void 0:null===(n=a.find(e=>"output_text"===e.type))||void 0===n?void 0:n.text)||"";if(!c)throw console.error("Full response for debugging:",l),Error("No output_text found in response.");try{o=JSON.parse(c)}catch(e){throw console.error("Could not parse JSON:",c),Error("Invalid JSON returned by model")}if(!o.original||!o.translated)throw console.error("Incomplete JSON:",o),Error("Missing expected fields (original, translated)");return{text:o.original,translatedText:o.translated}}catch(e){throw console.error("Error processing image:",e),e}}class J extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){if(this.state.hasError){var e;return(0,n.jsxs)(o.Z,{gap:2,padding:2,sx:{backgroundColor:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",maxWidth:"600px",margin:"0 auto"},children:[(0,n.jsxs)(c.Z,{severity:"error",children:[(0,n.jsx)(d.Z,{variant:"h6",children:"Something went wrong"}),(0,n.jsx)(d.Z,{variant:"body2",sx:{marginTop:1},children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred. Please try again."})]}),(0,n.jsx)(i.Z,{variant:"contained",onClick:this.resetError,children:"Try Again"})]})}return this.props.children}constructor(e){super(e),this.resetError=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}}var B=t(8444);function q(e){let{open:r=!1,message:t="",severity:a="info",duration:o=3e3,onClose:i=()=>{}}=e;return(0,n.jsx)(B.Z,{open:r,autoHideDuration:o,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,n.jsx)(c.Z,{onClose:i,severity:a,sx:{width:"100%"},children:t})})}var V=t(2258);function G(e){let{open:r=!1,title:t="Confirm Action",message:a="Are you sure?",confirmText:o="Confirm",cancelText:s="Cancel",onConfirm:l=()=>{},onCancel:d=()=>{}}=e;return(0,n.jsxs)(h.Z,{open:r,onClose:d,children:[(0,n.jsx)(p.Z,{children:t}),(0,n.jsx)(u.Z,{children:(0,n.jsx)(V.Z,{children:a})}),(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(i.Z,{onClick:d,children:s}),(0,n.jsx)(i.Z,{onClick:l,variant:"contained",color:"error",children:o})]})]})}var M=t(257);let Q=(0,a.createContext)();function X(e){let{children:r}=e,[t,o]=(0,a.useState)(null),[i,s]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=M.env.NEXT_PUBLIC_OPENAI_API_KEY;if(e)o(e),s(!1);else{let e=localStorage.getItem("openai_api_key");e&&o(e),s(!1)}},[]),(0,n.jsx)(Q.Provider,{value:{apiKey:t,setUserApiKey:e=>{o(e),e?localStorage.setItem("openai_api_key",e):localStorage.removeItem("openai_api_key")},clearApiKey:()=>{o(null),localStorage.removeItem("openai_api_key")},loading:i},children:r})}function $(){let e=(0,a.useContext)(Q);if(!e)throw Error("useApiKey must be used within ApiKeyProvider");return e}var ee=t(7312);function er(){let{apiKey:e,setUserApiKey:r}=$(),[t,o]=(0,a.useState)(""),[s,x]=(0,a.useState)("");return(0,n.jsxs)(h.Z,{open:!e,onClose:e=>{e.preventDefault()},maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(p.Z,{sx:{pb:1},children:(0,n.jsx)(d.Z,{variant:"h5",fontWeight:"bold",children:"OpenAI API Key Required"})}),(0,n.jsx)(u.Z,{sx:{pt:2},children:(0,n.jsxs)(l.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,n.jsx)(c.Z,{severity:"info",children:"This app uses OpenAI's API to extract and translate text from images. You need to provide your own API key."}),(0,n.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["Don't have an API key?"," ",(0,n.jsx)(ee.Z,{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",sx:{cursor:"pointer"},children:"Get one here"})," ","(opens in new window)"]}),(0,n.jsx)(m.Z,{fullWidth:!0,label:"OpenAI API Key",type:"password",placeholder:"sk-...",value:t,onChange:e=>{o(e.target.value),x("")},error:!!s,helperText:s,variant:"outlined",disabled:!1}),(0,n.jsx)(d.Z,{variant:"caption",color:"text.secondary",children:"Your API key is stored locally in your browser and is never sent to our servers. It's only used to communicate directly with OpenAI's API."})]})}),(0,n.jsx)(y.Z,{sx:{p:2},children:(0,n.jsx)(i.Z,{variant:"contained",color:"primary",onClick:()=>{if(!t.trim()){x("API key cannot be empty");return}if(!t.startsWith("sk-")){x('Invalid API key format. OpenAI keys start with "sk-"');return}r(t),x(""),o("")},disabled:!t.trim(),fullWidth:!0,children:"Save API Key"})})]})}let et=[{id:"tsv",name:"TSV",extension:".tsv"},{id:"csv",name:"CSV",extension:".csv"},{id:"json",name:"JSON",extension:".json"}];function en(){var e;let{apiKey:r}=$(),{images:t,setImages:I,text:k,translatedText:A,isLoading:E,error:T,setError:_}=function(e){let[r,t]=(0,a.useState)([]),[n,o]=(0,a.useState)(void 0),[i,s]=(0,a.useState)(void 0),[l,d]=(0,a.useState)(!1),[c,x]=(0,a.useState)(null);return(0,a.useEffect)(()=>{r.length>0?(async()=>{try{d(!0),x(null);let t=await Y(r[0].file,e);o(t.text),s(t.translatedText)}catch(e){x(e.message||"Failed to process image. Please try again."),console.error("Image processing error:",e)}finally{d(!1)}})():(o(void 0),s(void 0),x(null))},[r,e]),{images:r,setImages:t,text:n,translatedText:i,isLoading:l,error:c,setError:x}}(r),{rows:W,addFlashcard:P,updateFlashcard:F,exportToTSV:O,exportToCSV:R,exportToJSON:z,clearFlashcards:U}=function(){let[e,r]=(0,a.useState)([]),t=e=>e.replaceAll("\n"," ").replaceAll("	"," ").replaceAll("&#39;","'"),n=function(e,r){arguments.length>2&&void 0!==arguments[2]&&arguments[2];let t=encodeURI(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",r),document.body.appendChild(n),n.click(),document.body.removeChild(n)};return{rows:e,setRows:r,addFlashcard:(e,n)=>{if(!e||!n)throw Error("Both original and translated text are required");let a=[t(e),t(n)];r(e=>[...e,a])},updateFlashcard:(e,n,a)=>{if(!n||!a)throw Error("Both original and translated text are required");let o=[t(n),t(a)];r(r=>{let t=[...r];return t[e]=o,t})},removeFlashcard:e=>{r(r=>r.filter((r,t)=>t!==e))},exportToTSV:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.tsv";if(0===e.length)throw Error("No flashcards to export");let t=e.map(e=>e.join("	")).join("\n");n("data:text/tab-separated-values;charset=utf-8,".concat(t),r)},exportToCSV:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.csv";if(0===e.length)throw Error("No flashcards to export");let t=e=>e.includes(",")||e.includes('"')||e.includes("\n")?'"'.concat(e.replace(/"/g,'""'),'"'):e,a=e.map(e=>e.map(t).join(",")).join("\n");n("data:text/csv;charset=utf-8,".concat(a),r)},exportToJSON:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.json";if(0===e.length)throw Error("No flashcards to export");let t=JSON.stringify(e.map(e=>({front:e[0],back:e[1]})),null,2);n("data:application/json;charset=utf-8,".concat(t),r)},exportToAnki:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.json";if(0===e.length)throw Error("No flashcards to export");let t=JSON.stringify(e.map((e,r)=>({id:Date.now()+r,fields:[e[0],e[1]],tags:["imported"],type:0})),null,2);n("data:application/json;charset=utf-8,".concat(t),r)},exportToQuizlet:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.json";if(0===e.length)throw Error("No flashcards to export");let t=JSON.stringify({name:"Imported Flashcards",terms:e.map(e=>({term:e[0],definition:e[1]}))},null,2);n("data:application/json;charset=utf-8,".concat(t),r)},clearFlashcards:()=>{r([])},getFlashcardCount:()=>e.length}}(),{toastState:D,closeToast:H,showSuccess:L,showError:B,showWarning:V}=function(){let[e,r]=(0,a.useState)({open:!1,message:"",severity:"info"}),t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;return r({open:!0,message:e,severity:t}),setTimeout(()=>{r(e=>({...e,open:!1}))},n)};return{toastState:e,showToast:t,closeToast:()=>{r(e=>({...e,open:!1}))},showSuccess:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;t(e,"success",r)},showError:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;t(e,"error",r)},showInfo:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;t(e,"info",r)},showWarning:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;t(e,"warning",r)}}}(),[M,Q]=a.useState(null),[X,ee]=a.useState(!1),[er,en]=a.useState("my_data"),[ea,eo]=a.useState("tsv"),[ei,es]=a.useState(!1),el=()=>{ee(!1)};return(0,n.jsx)(J,{children:(0,n.jsxs)(s.Z,{maxWidth:"lg",sx:{py:4},children:[(0,n.jsxs)(o.Z,{gap:4,children:[(0,n.jsx)(l.Z,{sx:{background:"linear-gradient(135deg, #f0f7ff 0%, #faf7fc 100%)",borderRadius:3,p:4,textAlign:"center",boxShadow:"0 4px 12px rgba(61, 111, 163, 0.08)",border:"1px solid rgba(61, 111, 163, 0.1)"},children:(0,n.jsxs)(o.Z,{alignItems:"center",gap:2,children:[(0,n.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[(0,n.jsx)(w.Z,{sx:{fontSize:40,color:"primary.main"}}),(0,n.jsx)(d.Z,{variant:"h4",sx:{letterSpacing:"0.5px"},children:"Flashcard Generator"})]}),(0,n.jsx)(d.Z,{variant:"body1",color:"textSecondary",sx:{maxWidth:500},children:"Upload an image to extract text, translate it, and create beautiful flashcards for language learning."})]})}),(T||M)&&(0,n.jsx)(c.Z,{severity:"error",sx:{margin:"0 auto",maxWidth:"100%"},children:T||M}),(0,n.jsxs)(o.Z,{className:"OUTER_DIV",gap:{xs:3,md:4},justifyContent:"flex-start",alignItems:{xs:"stretch",md:"flex-start"},flexDirection:{xs:"column",md:"row"},sx:{minHeight:"70vh"},children:[(0,n.jsxs)(l.Z,{className:"OUTER_STACK1",sx:{flex:{xs:1,md:1},maxWidth:{md:"50%"},width:"100%",minHeight:{xs:"auto",md:"600px"},display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",background:"linear-gradient(135deg, #ffffff 0%, #f0f7ff 100%)",borderRadius:3,p:3,boxShadow:"0 2px 8px rgba(61, 111, 163, 0.06)",border:"1px solid rgba(61, 111, 163, 0.08)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(61, 111, 163, 0.1)"}},children:[(0,n.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1.5,mb:2.5,width:"100%",children:[(0,n.jsx)(C.Z,{color:"primary",sx:{fontSize:28}}),(0,n.jsx)(d.Z,{variant:"h6",sx:{letterSpacing:"0.3px"},children:"Upload Image"})]}),(0,n.jsx)(N,{images:t,setImages:I,addFlashcards:()=>{try{if(!k||!A){V("Please upload an image first");return}P(A,k),Q(null),L("Flashcard added successfully!")}catch(e){Q(e.message),B(e.message),console.error("Error adding flashcard:",e)}},text:k,translatedText:A,isLoading:E})]}),(0,n.jsxs)(o.Z,{className:"OUTER_STACK2",gap:2.5,sx:{flex:{xs:1,md:1},maxWidth:{md:"50%"},width:"100%",minHeight:{xs:"auto",md:"600px"},background:"linear-gradient(135deg, #ffffff 0%, #faf7fc 100%)",borderRadius:3,p:3,boxShadow:"0 2px 8px rgba(125, 90, 138, 0.06)",border:"1px solid rgba(125, 90, 138, 0.08)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(125, 90, 138, 0.1)"}},children:[(0,n.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1.5,justifyContent:"space-between",children:[(0,n.jsxs)(o.Z,{direction:"row",alignItems:"center",gap:1.5,children:[(0,n.jsx)(S.Z,{color:"primary",sx:{fontSize:28}}),(0,n.jsx)(d.Z,{variant:"h6",sx:{letterSpacing:"0.3px"},children:"Your Flashcards"})]}),(0,n.jsx)(x.Z,{label:"".concat(W.length," card").concat(1!==W.length?"s":""),color:"primary",sx:{fontWeight:"bold",fontSize:"0.85rem"}})]}),(0,n.jsx)(o.Z,{sx:{flex:1,overflowY:"auto",minHeight:{xs:"300px",md:"450px"},justifyContent:0===W.length?"center":"flex-start",alignItems:"center",borderRadius:2,p:2,bgcolor:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(10px)",border:"1px solid rgba(61, 111, 163, 0.05)",transition:"all 0.3s ease"},children:(0,n.jsx)(K,{rows:W,onUpdateFlashcard:(e,r,t)=>{try{F(e,r,t),L("Flashcard updated successfully!")}catch(e){B(e.message),console.error("Error updating flashcard:",e)}}})}),(0,n.jsxs)(o.Z,{flexDirection:{xs:"column",sm:"row"},gap:2,justifyContent:"center",alignItems:"center",sx:{flexWrap:"wrap",pt:1},children:[(0,n.jsx)(i.Z,{sx:{width:{xs:"100%",sm:200}},variant:"outlined",color:"primary",startIcon:(0,n.jsx)(b.Z,{}),onClick:()=>{ee(!0)},disabled:0===W.length,size:"large",children:"Export"}),(0,n.jsx)(i.Z,{sx:{width:{xs:"100%",sm:200}},variant:"outlined",color:"secondary",startIcon:(0,n.jsx)(Z.Z,{}),onClick:()=>{es(!0)},disabled:0===W.length,size:"large",children:"Clear All"})]})]})]})]}),(0,n.jsxs)(h.Z,{open:X,onClose:el,maxWidth:"xs",fullWidth:!0,children:[(0,n.jsx)(p.Z,{children:"Export Flashcards"}),(0,n.jsx)(u.Z,{sx:{pt:2,overflow:"visible"},children:(0,n.jsxs)(o.Z,{gap:2,children:[(0,n.jsx)(m.Z,{autoFocus:!0,fullWidth:!0,label:"Filename",value:er,onChange:e=>en(e.target.value),variant:"outlined",placeholder:"my_data",InputLabelProps:{shrink:!0}}),(0,n.jsxs)(d.Z,{variant:"caption",color:"text.secondary",sx:{wordBreak:"break-word"},children:["File will be saved as: ",(0,n.jsxs)("strong",{children:[er||"my_data",null===(e=et.find(e=>e.id===ea))||void 0===e?void 0:e.extension]})]}),(0,n.jsxs)(o.Z,{gap:1.5,sx:{mt:1},children:[(0,n.jsx)(d.Z,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Select Export Format"}),(0,n.jsx)(g.Z,{value:ea,onChange:e=>eo(e.target.value),children:(0,n.jsx)(o.Z,{gap:1,children:et.map(e=>(0,n.jsx)(f.Z,{sx:{p:1,cursor:"pointer",border:ea===e.id?2:1,borderColor:ea===e.id?"primary.main":"divider",transition:"all 0.2s","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>eo(e.id),children:(0,n.jsx)(j.Z,{value:e.id,control:(0,n.jsx)(v.Z,{}),label:(0,n.jsx)(d.Z,{variant:"body2",sx:{fontWeight:"bold"},children:e.name}),sx:{width:"100%",m:0}})},e.id))})})]})]})}),(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(i.Z,{onClick:el,children:"Cancel"}),(0,n.jsx)(i.Z,{onClick:()=>{try{let e=er.trim()||"my_data",r=et.find(e=>e.id===ea),t="".concat(e).concat(r.extension);({tsv:O,csv:R,json:z})[ea](t),Q(null),ee(!1),en("my_data"),eo("tsv"),L("Flashcards exported successfully!")}catch(e){Q(e.message),B(e.message),console.error("Error exporting flashcards:",e)}},variant:"contained",color:"primary",children:"Export"})]})]}),(0,n.jsx)(G,{open:ei,title:"Clear All Flashcards?",message:"This action will delete all flashcards. This cannot be undone.",confirmText:"Clear",cancelText:"Cancel",onConfirm:()=>{U(),es(!1),V("All flashcards cleared")},onCancel:()=>{es(!1)}}),(0,n.jsx)(q,{open:D.open,message:D.message,severity:D.severity,onClose:H})]})})}function ea(){return(0,n.jsxs)(X,{children:[(0,n.jsx)(er,{}),(0,n.jsx)(en,{})]})}}},function(e){e.O(0,[807,17,971,117,744],function(){return e(e.s=7458)}),_N_E=e.O()}]);