(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7458:function(e,r,t){Promise.resolve().then(t.bind(t,7319))},7319:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return ee}});var a=t(7437),o=t(2265),n=t(9643),i=t(4013),s=t(9978),l=t(1899),d=t(5002),c=t(4338),x=t(7571),h=t(3392),g=t(9507),p=t(7468),m=t(4039),u=t(4087),f=t(7208),j=t(5860),b=t(5390),v=t(9026),y=t(4169),Z=t(1100),w=t(3051),C=t(782),I=t(8511),S=t(2353),k=t.n(S),T=t(5389),U=t(9253),E=t(3190),F=t(9115),W=t(8790);function A(e){let{images:r,setImages:t,addFlashcards:o,text:s,translatedText:c,isLoading:h}=e;console.log("[UploadImage] Component rendered, images.length:",r.length,"isLoading:",h);let g=e=>e?e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB":"Unknown size";return(0,a.jsx)(k(),{multiple:!0,value:r,onChange:e=>{if(console.log("[UploadImage] onChange triggered"),console.log("[UploadImage] imageList:",e),console.log("[UploadImage] imageList length:",e.length),e.length>0){var r,a,o;console.log("[UploadImage] First image:",{fileName:null===(r=e[0].file)||void 0===r?void 0:r.name,fileSize:null===(a=e[0].file)||void 0===a?void 0:a.size,fileType:null===(o=e[0].file)||void 0===o?void 0:o.type,hasDataUrl:!!e[0].data_url})}t(e)},maxNumber:69,dataURLKey:"data_url",children:e=>{let{imageList:t,onImageUpload:p,onImageRemoveAll:m,onImageUpdate:u,onImageRemove:f,isDragging:j,dragProps:b}=e;return console.log("[UploadImage] Render function called"),console.log("[UploadImage] onImageUpload type:",typeof p),console.log("[UploadImage] onImageUpload value:",p),console.log("[UploadImage] isDragging:",j),(0,a.jsxs)(n.Z,{alignItems:"center",justifyContent:"center",width:"100%",height:"100%",gap:2,children:[(0,a.jsxs)(n.Z,{className:"CARDS",width:"100%",gap:2,children:[(0,a.jsxs)(l.Z,{className:"OUTER_STACK",sx:{width:"100%",minHeight:{xs:"200px",md:"300px"},display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",border:j?"3px dashed":"2px dashed",borderColor:j?"primary.main":"divider",borderRadius:2,bgcolor:j?"primary.light":"background.paper",transition:"all 0.3s ease",overflow:"hidden","&:hover":{borderColor:"primary.main",bgcolor:"action.hover"}},children:[h&&(0,a.jsxs)(n.Z,{position:"absolute",top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",sx:{backgroundColor:"rgba(255, 255, 255, 0.9)",zIndex:2},gap:2,children:[(0,a.jsx)(T.Z,{size:50}),(0,a.jsx)(d.Z,{variant:"body2",color:"primary",children:"Processing image..."}),(0,a.jsx)(U.Z,{sx:{width:"60%"}})]}),0===r.length?(0,a.jsxs)(n.Z,{alignItems:"center",gap:2,p:3,children:[(0,a.jsxs)(l.Z,{...b,sx:{textAlign:"center",width:"100%"},children:[(0,a.jsx)(C.Z,{sx:{fontSize:64,color:j?"primary.main":"action.disabled"}}),(0,a.jsx)(d.Z,{variant:"h6",color:j?"primary":"text.secondary",children:j?"Drop your image here":"Upload an Image"}),(0,a.jsx)(d.Z,{variant:"body2",color:"text.disabled",textAlign:"center",children:"Drag and drop an image here, or click to browse"})]}),(0,a.jsx)(i.Z,{variant:"outlined",color:"primary",startIcon:(0,a.jsx)(W.Z,{}),onClick:e=>{console.log("[UploadImage] Browse Files button clicked"),console.log("[UploadImage] isLoading:",h),console.log("[UploadImage] onImageUpload function:",typeof p),e.stopPropagation(),p()},disabled:h,size:"large",sx:{pointerEvents:"auto"},children:"Browse Files"})]}):(0,a.jsx)(n.Z,{width:"100%",p:2,gap:1,children:t.map((e,r)=>{var t,o;return(0,a.jsxs)(l.Z,{children:[(0,a.jsxs)(n.Z,{direction:"row",alignItems:"center",gap:1,mb:1,children:[(0,a.jsx)(W.Z,{color:"primary"}),(0,a.jsx)(d.Z,{variant:"body2",fontWeight:"bold",children:(null===(t=e.file)||void 0===t?void 0:t.name)||"Uploaded Image"}),(0,a.jsx)(x.Z,{label:g(null===(o=e.file)||void 0===o?void 0:o.size),size:"small",color:"primary",variant:"outlined"})]}),(0,a.jsx)(l.Z,{sx:{maxHeight:{xs:"150px",md:"200px"},overflow:"auto",borderRadius:1,border:1,borderColor:"divider"},children:(0,a.jsx)("img",{src:e.data_url,alt:"uploaded",style:{maxWidth:"100%",height:"auto",display:"block"}})})]},r)})})]}),(0,a.jsxs)(n.Z,{flexDirection:{xs:"column",md:"row"},width:"100%",gap:2,children:[(0,a.jsxs)(l.Z,{flex:1,minWidth:0,children:[(0,a.jsx)(n.Z,{direction:"row",alignItems:"center",gap:1,mb:1,children:(0,a.jsx)(d.Z,{variant:"caption",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:1,color:"secondary.main"},children:"Original Text"})}),(0,a.jsx)(l.Z,{sx:{minHeight:{xs:"120px",md:"150px"},maxHeight:{xs:"200px",md:"250px"},padding:2,border:1,borderColor:"secondary.main",borderLeft:4,borderRadius:2,overflowY:"auto",bgcolor:"secondary.light",transition:"all 0.2s","&:hover":{boxShadow:2}},children:s?(0,a.jsx)(d.Z,{variant:"body2",sx:{color:"secondary.contrastText"},children:s}):(0,a.jsx)(d.Z,{sx:{color:"text.disabled",fontStyle:"italic"},variant:"body2",children:"Upload image to see original text"})})]}),(0,a.jsxs)(l.Z,{flex:1,minWidth:0,children:[(0,a.jsx)(n.Z,{direction:"row",alignItems:"center",gap:1,mb:1,children:(0,a.jsx)(d.Z,{variant:"caption",sx:{fontWeight:"bold",textTransform:"uppercase",letterSpacing:1,color:"primary.main"},children:"Translated Text"})}),(0,a.jsx)(l.Z,{sx:{minHeight:{xs:"120px",md:"150px"},maxHeight:{xs:"200px",md:"250px"},padding:2,border:1,borderColor:"primary.main",borderLeft:4,borderRadius:2,overflowY:"auto",bgcolor:"primary.light",transition:"all 0.2s","&:hover":{boxShadow:2}},children:c?(0,a.jsx)(d.Z,{variant:"body2",sx:{color:"primary.contrastText"},children:c}):(0,a.jsx)(d.Z,{sx:{color:"text.disabled",fontStyle:"italic"},variant:"body2",children:"Upload image to see translation"})})]})]})]}),(0,a.jsxs)(n.Z,{flexDirection:{xs:"column",sm:"row"},gap:1.5,width:"100%",sx:{maxWidth:{xs:"100%",sm:"500px"}},children:[(0,a.jsx)(i.Z,{sx:{flex:1,minWidth:{xs:"100%",sm:"150px"}},variant:"outlined",color:"primary",startIcon:(0,a.jsx)(E.Z,{}),onClick:o,disabled:h||!s||!c,size:"large",children:"Add Flashcard"}),(0,a.jsx)(i.Z,{sx:{flex:1,minWidth:{xs:"100%",sm:"150px"}},variant:"outlined",color:"secondary",startIcon:(0,a.jsx)(F.Z,{}),onClick:()=>{r.length>0&&f(0)},disabled:h||0===r.length,size:"large",children:"Delete Image"})]})]})}})}var N=t(6137),_=t(9832),z=t(3980),R=t(3208),D=t(1911),O=t(9938);function P(e){let{row:r,index:t,onUpdate:s}=e,[c,u]=o.useState(!1),[j,b]=o.useState(!1),[y,Z]=o.useState(!1),[w,C]=o.useState(r[0]),[I,S]=o.useState(r[1]),[k,T]=o.useState(""),U=r[0],E=r[1],F=U.length>200||E.length>200,W=()=>{Z(!1),T("")};return(0,a.jsx)(f.Z,{elevation:2,sx:{width:"100%",transition:"all 0.3s ease","&:hover":{elevation:4,transform:"translateY(-2px)"},background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)"},children:(0,a.jsxs)(N.Z,{children:[(0,a.jsxs)(n.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,a.jsx)(x.Z,{label:"Card ".concat(t+1),color:"primary",size:"small",sx:{fontWeight:"bold"}}),(0,a.jsxs)(n.Z,{direction:"row",gap:.5,children:[(0,a.jsx)(_.Z,{size:"small",onClick:()=>{C(r[0]),S(r[1]),T(""),Z(!0)},color:"primary",children:(0,a.jsx)(O.Z,{})}),(0,a.jsx)(_.Z,{size:"small",onClick:()=>{u(!c)},color:"primary",children:(0,a.jsx)(D.Z,{})})]})]}),(0,a.jsx)(l.Z,{sx:{perspective:"1000px",minHeight:"100px"},children:(0,a.jsx)(l.Z,{sx:{transition:"transform 0.6s",transformStyle:"preserve-3d",transform:c?"rotateY(180deg)":"rotateY(0deg)"},children:c?(0,a.jsxs)(l.Z,{sx:{transform:"rotateY(180deg)"},children:[(0,a.jsx)(d.Z,{variant:"caption",sx:{color:"secondary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},children:"Original"}),(0,a.jsx)(l.Z,{sx:{mt:1,p:2,bgcolor:"secondary.light",borderRadius:2,borderLeft:4,borderColor:"secondary.main"},children:(0,a.jsx)(d.Z,{variant:"body2",sx:{color:"secondary.contrastText"},children:j||E.length<=200?E:"".concat(E.substring(0,200),"...")})})]}):(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(d.Z,{variant:"caption",sx:{color:"primary.main",fontWeight:"bold",textTransform:"uppercase",letterSpacing:1},children:"Translated"}),(0,a.jsx)(l.Z,{sx:{mt:1,p:2,bgcolor:"primary.light",borderRadius:2,borderLeft:4,borderColor:"primary.main"},children:(0,a.jsx)(d.Z,{variant:"body2",sx:{color:"primary.contrastText"},children:j||U.length<=200?U:"".concat(U.substring(0,200),"...")})})]})})}),F&&(0,a.jsx)(n.Z,{direction:"row",justifyContent:"center",mt:1,children:(0,a.jsx)(_.Z,{size:"small",onClick:()=>b(!j),color:"primary",children:j?(0,a.jsx)(R.Z,{}):(0,a.jsx)(z.Z,{})})}),(0,a.jsxs)(h.Z,{open:y,onClose:W,maxWidth:"sm",fullWidth:!0,children:[(0,a.jsx)(g.Z,{children:"Edit Flashcard"}),(0,a.jsxs)(p.Z,{sx:{overflow:"visible",pt:2,pb:3},children:[k&&(0,a.jsx)(d.Z,{color:"error",variant:"body2",sx:{mb:2},children:k}),(0,a.jsxs)(n.Z,{gap:3,sx:{mt:1},children:[(0,a.jsx)(m.Z,{fullWidth:!0,label:"Translated Text",multiline:!0,rows:4,value:w,onChange:e=>C(e.target.value),variant:"outlined",InputLabelProps:{shrink:!0}}),(0,a.jsx)(m.Z,{fullWidth:!0,label:"Original Text",multiline:!0,rows:4,value:I,onChange:e=>S(e.target.value),variant:"outlined",InputLabelProps:{shrink:!0}})]})]}),(0,a.jsxs)(v.Z,{children:[(0,a.jsx)(i.Z,{onClick:W,children:"Cancel"}),(0,a.jsx)(i.Z,{onClick:()=>{if(!w.trim()||!I.trim()){T("Both fields are required");return}try{s(t,w,I),Z(!1)}catch(e){T(e.message)}},variant:"contained",color:"primary",children:"Save"})]})]})]})})}function H(e){let{rows:r,onUpdateFlashcard:t}=e;return(0,a.jsx)(n.Z,{className:"CURRENT_STACK",gap:3,sx:{width:"100%",height:"100%",minHeight:"100%"},children:0===r.length?(0,a.jsxs)(n.Z,{gap:2,alignItems:"center",justifyContent:"center",sx:{width:"100%",height:"100%",color:"text.secondary"},children:[(0,a.jsx)(d.Z,{variant:"h6",color:"text.secondary",children:"No flashcards yet"}),(0,a.jsx)(d.Z,{variant:"body2",color:"text.disabled",children:"Upload an image and add flashcards to see them here"})]}):r.map((e,r)=>(0,a.jsx)(P,{row:e,index:r,onUpdate:t},r))})}let L="https://james-image-translation-d10e77b3ae74.herokuapp.com";async function B(e,r){try{let r=new FormData;r.append("file",e),console.log("[openai] Sending image to backend:",L);let t=await fetch("".concat(L,"/uploadfile-openai/"),{method:"POST",body:r});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.detail||"Backend error: ".concat(t.status))}let a=await t.json();if(console.log("[openai] Backend response:",a),!a.text||!a.translatedText)throw console.error("Incomplete response from backend:",a),Error("Backend returned incomplete data");return{text:a.text,translatedText:a.translatedText}}catch(e){throw console.error("Error processing image with backend:",e),e}}class K extends o.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){if(this.state.hasError){var e;return(0,a.jsxs)(n.Z,{gap:2,padding:2,sx:{backgroundColor:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",maxWidth:"600px",margin:"0 auto"},children:[(0,a.jsxs)(c.Z,{severity:"error",children:[(0,a.jsx)(d.Z,{variant:"h6",children:"Something went wrong"}),(0,a.jsx)(d.Z,{variant:"body2",sx:{marginTop:1},children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred. Please try again."})]}),(0,a.jsx)(i.Z,{variant:"contained",onClick:this.resetError,children:"Try Again"})]})}return this.props.children}constructor(e){super(e),this.resetError=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}}var Y=t(8444);function J(e){let{open:r=!1,message:t="",severity:o="info",duration:n=3e3,onClose:i=()=>{}}=e;return(0,a.jsx)(Y.Z,{open:r,autoHideDuration:n,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,a.jsx)(c.Z,{onClose:i,severity:o,sx:{width:"100%"},children:t})})}var V=t(2258);function q(e){let{open:r=!1,title:t="Confirm Action",message:o="Are you sure?",confirmText:n="Confirm",cancelText:s="Cancel",onConfirm:l=()=>{},onCancel:d=()=>{}}=e;return(0,a.jsxs)(h.Z,{open:r,onClose:d,children:[(0,a.jsx)(g.Z,{children:t}),(0,a.jsx)(p.Z,{children:(0,a.jsx)(V.Z,{children:o})}),(0,a.jsxs)(v.Z,{children:[(0,a.jsx)(i.Z,{onClick:d,children:s}),(0,a.jsx)(i.Z,{onClick:l,variant:"contained",color:"error",children:n})]})]})}let G=(0,o.createContext)();function M(e){let{children:r}=e;return(0,a.jsx)(G.Provider,{value:{apiKey:"backend-managed",setUserApiKey:()=>{},clearApiKey:()=>{},loading:!1},children:r})}function Q(){return null}let X=[{id:"tsv",name:"TSV",extension:".tsv"},{id:"csv",name:"CSV",extension:".csv"},{id:"json",name:"JSON",extension:".json"}];function $(){var e;let{apiKey:r}=function(){let e=(0,o.useContext)(G);if(!e)throw Error("useApiKey must be used within ApiKeyProvider");return e}(),{images:t,setImages:S,text:k,translatedText:T,isLoading:U,error:E,setError:F}=function(e){let[r,t]=(0,o.useState)([]),[a,n]=(0,o.useState)(void 0),[i,s]=(0,o.useState)(void 0),[l,d]=(0,o.useState)(!1),[c,x]=(0,o.useState)(null);return(0,o.useEffect)(()=>{console.log("[useImageUpload] Effect triggered, images:",r),console.log("[useImageUpload] images.length:",r.length),r.length>0?(console.log("[useImageUpload] Processing image..."),(async()=>{try{d(!0),x(null),console.log("[useImageUpload] Starting OpenAI processing"),console.log("[useImageUpload] Image file:",r[0].file),console.log("[useImageUpload] API key present:",!!e);let t=await B(r[0].file,e);console.log("[useImageUpload] OpenAI result:",t),n(t.text),s(t.translatedText)}catch(e){x(e.message||"Failed to process image. Please try again."),console.error("[useImageUpload] Image processing error:",e)}finally{d(!1),console.log("[useImageUpload] Processing complete")}})()):(console.log("[useImageUpload] No images, clearing text"),n(void 0),s(void 0),x(null))},[r,e]),{images:r,setImages:t,text:a,translatedText:i,isLoading:l,error:c,setError:x}}(r),{rows:W,addFlashcard:N,updateFlashcard:_,exportToTSV:z,exportToCSV:R,exportToJSON:D,clearFlashcards:O}=function(){let[e,r]=(0,o.useState)([]),t=e=>e.replaceAll("\n"," ").replaceAll("	"," ").replaceAll("&#39;","'"),a=function(e,r){arguments.length>2&&void 0!==arguments[2]&&arguments[2];let t=encodeURI(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download",r),document.body.appendChild(a),a.click(),document.body.removeChild(a)};return{rows:e,setRows:r,addFlashcard:(e,a)=>{if(!e||!a)throw Error("Both original and translated text are required");let o=[t(e),t(a)];r(e=>[...e,o])},updateFlashcard:(e,a,o)=>{if(!a||!o)throw Error("Both original and translated text are required");let n=[t(a),t(o)];r(r=>{let t=[...r];return t[e]=n,t})},removeFlashcard:e=>{r(r=>r.filter((r,t)=>t!==e))},exportToTSV:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.tsv";if(0===e.length)throw Error("No flashcards to export");let t=e.map(e=>e.join("	")).join("\n");a("data:text/tab-separated-values;charset=utf-8,".concat(t),r)},exportToCSV:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.csv";if(0===e.length)throw Error("No flashcards to export");let t=e=>e.includes(",")||e.includes('"')||e.includes("\n")?'"'.concat(e.replace(/"/g,'""'),'"'):e,o=e.map(e=>e.map(t).join(",")).join("\n");a("data:text/csv;charset=utf-8,".concat(o),r)},exportToJSON:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.json";if(0===e.length)throw Error("No flashcards to export");let t=JSON.stringify(e.map(e=>({front:e[0],back:e[1]})),null,2);a("data:application/json;charset=utf-8,".concat(t),r)},exportToAnki:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.json";if(0===e.length)throw Error("No flashcards to export");let t=JSON.stringify(e.map((e,r)=>({id:Date.now()+r,fields:[e[0],e[1]],tags:["imported"],type:0})),null,2);a("data:application/json;charset=utf-8,".concat(t),r)},exportToQuizlet:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"my_data.json";if(0===e.length)throw Error("No flashcards to export");let t=JSON.stringify({name:"Imported Flashcards",terms:e.map(e=>({term:e[0],definition:e[1]}))},null,2);a("data:application/json;charset=utf-8,".concat(t),r)},clearFlashcards:()=>{r([])},getFlashcardCount:()=>e.length}}(),{toastState:P,closeToast:L,showSuccess:Y,showError:V,showWarning:M}=function(){let[e,r]=(0,o.useState)({open:!1,message:"",severity:"info"}),t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;return r({open:!0,message:e,severity:t}),setTimeout(()=>{r(e=>({...e,open:!1}))},a)};return{toastState:e,showToast:t,closeToast:()=>{r(e=>({...e,open:!1}))},showSuccess:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;t(e,"success",r)},showError:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;t(e,"error",r)},showInfo:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;t(e,"info",r)},showWarning:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;t(e,"warning",r)}}}(),[Q,$]=o.useState(null),[ee,er]=o.useState(!1),[et,ea]=o.useState("my_data"),[eo,en]=o.useState("tsv"),[ei,es]=o.useState(!1),el=()=>{er(!1)};return(0,a.jsx)(K,{children:(0,a.jsxs)(s.Z,{maxWidth:"lg",sx:{py:4},children:[(0,a.jsxs)(n.Z,{gap:4,children:[(0,a.jsx)(l.Z,{sx:{background:"linear-gradient(135deg, #f0f7ff 0%, #faf7fc 100%)",borderRadius:3,p:4,textAlign:"center",boxShadow:"0 4px 12px rgba(61, 111, 163, 0.08)",border:"1px solid rgba(61, 111, 163, 0.1)"},children:(0,a.jsxs)(n.Z,{alignItems:"center",gap:2,children:[(0,a.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[(0,a.jsx)(w.Z,{sx:{fontSize:40,color:"primary.main"}}),(0,a.jsx)(d.Z,{variant:"h4",sx:{letterSpacing:"0.5px"},children:"Flashcard Generator"})]}),(0,a.jsx)(d.Z,{variant:"body1",color:"textSecondary",sx:{maxWidth:500},children:"Upload an image with non-english text to extract text, translate it, and create beautiful flashcards for language learning."})]})}),(E||Q)&&(0,a.jsx)(c.Z,{severity:"error",sx:{margin:"0 auto",maxWidth:"100%"},children:E||Q}),(0,a.jsxs)(n.Z,{className:"OUTER_DIV",gap:{xs:3,md:4},justifyContent:"flex-start",alignItems:{xs:"stretch",md:"flex-start"},flexDirection:{xs:"column",md:"row"},sx:{minHeight:"70vh"},children:[(0,a.jsxs)(l.Z,{className:"OUTER_STACK1",sx:{flex:{xs:1,md:1},maxWidth:{md:"50%"},width:"100%",minHeight:{xs:"auto",md:"600px"},display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",background:"linear-gradient(135deg, #ffffff 0%, #f0f7ff 100%)",borderRadius:3,p:3,boxShadow:"0 2px 8px rgba(61, 111, 163, 0.06)",border:"1px solid rgba(61, 111, 163, 0.08)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(61, 111, 163, 0.1)"}},children:[(0,a.jsxs)(n.Z,{direction:"row",alignItems:"center",gap:1.5,mb:2.5,width:"100%",children:[(0,a.jsx)(C.Z,{color:"primary",sx:{fontSize:28}}),(0,a.jsx)(d.Z,{variant:"h6",sx:{letterSpacing:"0.3px"},children:"Upload Image"})]}),(0,a.jsx)(A,{images:t,setImages:S,addFlashcards:()=>{try{if(!k||!T){M("Please upload an image first");return}N(T,k),$(null),Y("Flashcard added successfully!")}catch(e){$(e.message),V(e.message),console.error("Error adding flashcard:",e)}},text:k,translatedText:T,isLoading:U})]}),(0,a.jsxs)(n.Z,{className:"OUTER_STACK2",gap:2.5,sx:{flex:{xs:1,md:1},maxWidth:{md:"50%"},width:"100%",minHeight:{xs:"auto",md:"600px"},background:"linear-gradient(135deg, #ffffff 0%, #faf7fc 100%)",borderRadius:3,p:3,boxShadow:"0 2px 8px rgba(125, 90, 138, 0.06)",border:"1px solid rgba(125, 90, 138, 0.08)",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(125, 90, 138, 0.1)"}},children:[(0,a.jsxs)(n.Z,{direction:"row",alignItems:"center",gap:1.5,justifyContent:"space-between",children:[(0,a.jsxs)(n.Z,{direction:"row",alignItems:"center",gap:1.5,children:[(0,a.jsx)(I.Z,{color:"primary",sx:{fontSize:28}}),(0,a.jsx)(d.Z,{variant:"h6",sx:{letterSpacing:"0.3px"},children:"Your Flashcards"})]}),(0,a.jsx)(x.Z,{label:"".concat(W.length," card").concat(1!==W.length?"s":""),color:"primary",sx:{fontWeight:"bold",fontSize:"0.85rem"}})]}),(0,a.jsx)(n.Z,{sx:{flex:1,overflowY:"auto",minHeight:{xs:"300px",md:"450px"},justifyContent:0===W.length?"center":"flex-start",alignItems:"center",borderRadius:2,p:2,bgcolor:"rgba(255, 255, 255, 0.5)",backdropFilter:"blur(10px)",border:"1px solid rgba(61, 111, 163, 0.05)",transition:"all 0.3s ease"},children:(0,a.jsx)(H,{rows:W,onUpdateFlashcard:(e,r,t)=>{try{_(e,r,t),Y("Flashcard updated successfully!")}catch(e){V(e.message),console.error("Error updating flashcard:",e)}}})}),(0,a.jsxs)(n.Z,{flexDirection:{xs:"column",sm:"row"},gap:2,justifyContent:"center",alignItems:"center",sx:{flexWrap:"wrap",pt:1},children:[(0,a.jsx)(i.Z,{sx:{width:{xs:"100%",sm:200}},variant:"outlined",color:"primary",startIcon:(0,a.jsx)(y.Z,{}),onClick:()=>{er(!0)},disabled:0===W.length,size:"large",children:"Export"}),(0,a.jsx)(i.Z,{sx:{width:{xs:"100%",sm:200}},variant:"outlined",color:"secondary",startIcon:(0,a.jsx)(Z.Z,{}),onClick:()=>{es(!0)},disabled:0===W.length,size:"large",children:"Clear All"})]})]})]})]}),(0,a.jsxs)(h.Z,{open:ee,onClose:el,maxWidth:"xs",fullWidth:!0,children:[(0,a.jsx)(g.Z,{children:"Export Flashcards"}),(0,a.jsx)(p.Z,{sx:{pt:2,overflow:"visible"},children:(0,a.jsxs)(n.Z,{gap:2,children:[(0,a.jsx)(m.Z,{autoFocus:!0,fullWidth:!0,label:"Filename",value:et,onChange:e=>ea(e.target.value),variant:"outlined",placeholder:"my_data",InputLabelProps:{shrink:!0}}),(0,a.jsxs)(d.Z,{variant:"caption",color:"text.secondary",sx:{wordBreak:"break-word"},children:["File will be saved as: ",(0,a.jsxs)("strong",{children:[et||"my_data",null===(e=X.find(e=>e.id===eo))||void 0===e?void 0:e.extension]})]}),(0,a.jsxs)(n.Z,{gap:1.5,sx:{mt:1},children:[(0,a.jsx)(d.Z,{variant:"subtitle2",sx:{fontWeight:"bold"},children:"Select Export Format"}),(0,a.jsx)(u.Z,{value:eo,onChange:e=>en(e.target.value),children:(0,a.jsx)(n.Z,{gap:1,children:X.map(e=>(0,a.jsx)(f.Z,{sx:{p:1,cursor:"pointer",border:eo===e.id?2:1,borderColor:eo===e.id?"primary.main":"divider",transition:"all 0.2s","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>en(e.id),children:(0,a.jsx)(j.Z,{value:e.id,control:(0,a.jsx)(b.Z,{}),label:(0,a.jsx)(d.Z,{variant:"body2",sx:{fontWeight:"bold"},children:e.name}),sx:{width:"100%",m:0}})},e.id))})})]})]})}),(0,a.jsxs)(v.Z,{children:[(0,a.jsx)(i.Z,{onClick:el,children:"Cancel"}),(0,a.jsx)(i.Z,{onClick:()=>{try{let e=et.trim()||"my_data",r=X.find(e=>e.id===eo),t="".concat(e).concat(r.extension);({tsv:z,csv:R,json:D})[eo](t),$(null),er(!1),ea("my_data"),en("tsv"),Y("Flashcards exported successfully!")}catch(e){$(e.message),V(e.message),console.error("Error exporting flashcards:",e)}},variant:"contained",color:"primary",children:"Export"})]})]}),(0,a.jsx)(q,{open:ei,title:"Clear All Flashcards?",message:"This action will delete all flashcards. This cannot be undone.",confirmText:"Clear",cancelText:"Cancel",onConfirm:()=>{O(),es(!1),M("All flashcards cleared")},onCancel:()=>{es(!1)}}),(0,a.jsx)(J,{open:P.open,message:P.message,severity:P.severity,onClose:L})]})})}function ee(){return(0,a.jsxs)(M,{children:[(0,a.jsx)(Q,{}),(0,a.jsx)($,{})]})}}},function(e){e.O(0,[807,959,971,117,744],function(){return e(e.s=7458)}),_N_E=e.O()}]);